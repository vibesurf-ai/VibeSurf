# Nuitka Build Configuration for VibeSurf
# This replaces the old PyInstaller vibesurf.spec

[nuitka-build]
# Basic settings
onefile = true
output-dir = dist
output-filename = vibesurf.exe

# Optimization plugins
enable-plugin = anti-bloat
assume-yes-for-downloads = true
follow-imports = true

# Data files inclusion
include-data-dir = vibe_surf/chrome_extension=vibe_surf/chrome_extension
include-data-dir = vibe_surf/backend=vibe_surf/backend  
include-data-dir = vibe_surf/langflow=vibe_surf/langflow

# Critical modules (solves dynamic import issues)
include-module = passlib.handlers.bcrypt
include-module = bcrypt._bcrypt
include-module = aiosqlite
include-module = uvicorn
include-module = fastapi
include-module = langchain
include-module = composio
include-module = multiprocessing.pool
include-module = multiprocessing.dummy

# Windows specific
windows-console-mode = force
windows-icon-from-ico = vibe_surf/chrome_extension/icons/logo.png

# Entry point
entry-point = vibe_surf/cli.py